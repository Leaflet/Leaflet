<!DOCTYPE html>
<html>
<head>
	{% capture title %}{% if page.title %}{{ page.title }} - {% elsif post.title %}{{ post.title }} - {% endif %}{% endcapture %}

	<title>{{ title }}Leaflet - a JavaScript library for interactive maps</title>

	<meta charset="utf-8" />

	{% if title == '' %}
	<meta property="og:title" content="Leaflet — an open-source JavaScript library for interactive maps" />
	<meta property="og:description" content="Leaflet is a modern, lightweight open-source JavaScript library for mobile-friendly interactive maps." />
	<meta property="og:image" content="http://leafletjs.com/docs/images/logo.png" />

	<meta itemprop="name" content="Leaflet">
	<meta itemprop="description" content="Leaflet — a modern, lightweight open-source JavaScript library for mobile-friendly interactive maps.">
	<meta itemprop="image" content="http://leafletjs.com/docs/images/logo.png">
	{% endif %}

	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	{% capture root %}{% if page.root %}{{ page.root }}{% else %}{{ post.root }}{% endif %}{% endcapture %}

	<link rel="shortcut icon" type="image/x-icon" href="{{ root }}docs/images/favicon.ico" />

	<link href="http://leafletjs.com/atom.xml" type="application/atom+xml" rel="alternate" title="Leaflet Dev Blog Atom Feed" />

	<link rel="stylesheet" href="{{ root }}docs/css/normalize.css" />
	<link rel="stylesheet" href="{{ root }}docs/css/main.css" />

	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,400italic,700,300' rel='stylesheet' type='text/css'>

	<script src="{{ root }}docs/highlight/highlight.pack.js"></script>
	<link rel="stylesheet" href="{{ root }}docs/highlight/styles/github-gist.css" />

	<!-- Leaflet -->
	<link rel="stylesheet" href="{{ root }}dist/leaflet.css" />
	<script src="{{ root }}dist/leaflet.js"></script>

	{% if page.css %}<style>{{ page.css }}</style>{% endif %}

	<script>
		CM_ATTR = 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
				'<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
				'Imagery © <a href="http://cloudmade.com">CloudMade</a>';

		CM_URL = 'http://{s}.tile.cloudmade.com/d4fc77ea4a63471cab2423e66626cbb6/{styleId}/256/{z}/{x}/{y}.png';

    MB_ATTR = 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
        '<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
        'Imagery © <a href="http://mapbox.com">Mapbox</a>';
    MB_URL = 'http://{s}.tiles.mapbox.com/v3/{id}/{z}/{x}/{y}.png';

		OSM_URL = 'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';
		OSM_ATTRIB = '&copy; <a href="http://openstreetmap.org/copyright">OpenStreetMap</a> contributors';
	</script>
</head>
<body{% if page.bodyclass %} class="{{ page.bodyclass }}"{% endif %}>


<header>
	<h1><a href="http://leafletjs.com"><img src="{{ root }}docs/images/logo.png" alt="Leaflet" width="300" /></a></h1>
	<h3 class="tagline">an open-source JavaScript library<br> for mobile-friendly interactive maps</h3>

<ul class="nav">
	<li>
		{% if page.title == nil %}
			<span>Overview</span>
		{% else %}
			<a href="{{ root }}index.html">Overview</a>
		{% endif %}
	</li>
	<li>
		{% if page.title == 'Tutorials' %}
			<span>Tutorials</span>
		{% else %}
			<a href="{{ root }}examples.html"{% if page.tutorial == true %} class="active"{% endif %}>Tutorials</a>
		{% endif %}
	</li>
	<li>
		{% if page.title == 'Documentation' %}
			<span>Docs</span>
		{% else %}
			<a href="{{ root }}reference.html">Docs</a>
		{% endif %}
	</li>
	<li>
		{% if page.title == 'Download' %}
			<span>Download</span>
		{% else %}
			<a href="{{ root }}download.html">Download</a>
		{% endif %}
	</li>
	<li>
		{% if page.title == 'Plugins' %}
			<span>Plugins</span>
		{% else %}
			<a href="{{ root }}plugins.html">Plugins</a>
		{% endif %}
	</li>
	<li>
		{% if page.title == 'Blog' %}
			<span>Blog</span>
		{% else %}
			<a href="{{ root }}blog.html"{% if page.post == true %} class="active"{% endif %}>Blog</a>
		{% endif %}
	</li>
</ul>

</div>

<div id="background-leaves"></div>
<script type="text/javascript">

	var	bounds = new L.LatLngBounds(
		new L.LatLng(0,0),
		new L.LatLng(3182, 6384));

	var backgroundmap = L.map('background-leaves', {
		maxZoom: 1,
		minZoom: -4,
		crs: L.CRS.Simple,
		maxBounds: bounds,
		zoomControl: false,
		attributionControl: false
	})
	
	backgroundmap.on('load resize', function(){
		backgroundmap.options.minZoom = backgroundmap.getBoundsZoom(bounds, true);
	});
	
	backgroundmap.setView(L.latLng(1934, 3730), -1);
	
	var leaves = new L.ImageOverlay("background-leaves-image/background-leaves.jpg", bounds, {});
	backgroundmap.addLayer(leaves);
</script>


</header>
<div class="container" style="position: relative;">


{{ content }}

<div class="footer">
	<p>&copy; 2015 <a href="http://agafonkin.com/en">Vladimir Agafonkin</a>. Maps &copy; <a href="http://openstreetmap.org/copyright">OpenStreetMap</a> contributors. Header background image &copy; <a href='https://www.flickr.com/photos/54336566@N08/14089157395/'>Jonas Weckschmied</a>.</p>
</div>

</div>

<nav class="ext-links">
  <a class="ext-link twitter" href="http://twitter.com/LeafletJS" title="Follow LeafletJS on Twitter"><img alt="Follow LeafletJS on Twitter" src="{{root}}docs/images/twitter-round.png" width="46" /></a>
  <a class="ext-link github" href="http://github.com/Leaflet/Leaflet" title="View Source on GitHub"><img alt="View Source on GitHub" src="{{root}}docs/images/github-round.png" width="46" /></a>
  <a class="ext-link forum" href="https://groups.google.com/forum/#!forum/leaflet-js" title="Ask for help on the Leaflet forum"><img alt="Official Leaflet forum" src="{{root}}docs/images/forum-round.png" width="46" /></a>
</nav>

<script>
	hljs.configure({tabReplace: '    '});

	(function () {
		var codes = document.getElementsByTagName('code'),
			parentClass;

		for (var i = 0, len = codes.length; i < len; i++) {
			if (!codes[i].className) {
				parentClass = codes[i].parentNode.className;
				if (parentClass) {
					codes[i].className = parentClass;
				} else if (codes[i].innerHTML.match(/^\s*&lt;/)) {
					codes[i].className = 'xml';
				} else {
					codes[i].className = 'javascript';
				}
			}
		}
	})();

	(function () {
		var headers = document.getElementsByTagName('h2');

		for (var i = 0, len = headers.length; i < len; i++) {
			if (headers[i].id) {
				headers[i].onclick = function() {
					window.location.hash = '#' + this.id;
				};
			}
		}
	})();

	hljs.initHighlighting();
</script>

<script>
	var _gaq = _gaq || [];
	_gaq.push([ '_setAccount', 'UA-4147697-4' ]);
	_gaq.push([ '_trackPageview' ]);

	(function() {
		var ga = document.createElement('script');
		ga.type = 'text/javascript';
		ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl'
				: 'http://www')
				+ '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0];
		s.parentNode.insertBefore(ga, s);
	})();
</script>

<script type="text/javascript" src="{{ root }}docs/js/docs.js"></script>

</body>
</html>
